<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pure GPS Placement Test</title>

  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
</head>

<body style="margin:0; overflow:hidden;">

<a-scene
  embedded
  vr-mode-ui="enabled:false"
  arjs="sourceType: webcam; debugUIEnabled: true;"
  renderer="alpha:true"
>

<!-- å›ã‚Šè¾¼ã¿å…‰ã¯æœ€å°é™ -->
<a-entity light="type: ambient; intensity: 4.0"></a-entity>

<!-- å¼·ã„å¤–å…‰ï¼ˆå¤ªé™½ï¼‰ -->
<a-entity
  light="type: directional; intensity: 4.0"
  position="30 60 20"
></a-entity>

  <a-assets>
    <a-asset-item id="model" src="img/mokumoku.glb"></a-asset-item>
  </a-assets>

  <!-- ===== GPSã§ã®ã¿å‡ºç¾ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ ===== -->
  <a-entity
    id="gpsObject"
    visible="false"
    gps-entity-place="latitude: 33.539436; longitude: 133.665064

;"
    position="0 0 0"
  >
    <a-entity
      gltf-model="#model"
      scale="1 1 1"
      rotation="0 240 0"
    ></a-entity>
  </a-entity>

  <!-- ã‚«ãƒ¡ãƒ© -->
  <a-camera gps-camera rotation-reader></a-camera>

</a-scene>

<script>
/* GPSã§é…ç½®ã•ã‚ŒãŸç¬é–“ã«ã ã‘è¡¨ç¤º */
window.addEventListener("gps-entity-place-added", e => {
  const obj = document.getElementById("gpsObject");
  obj.setAttribute("visible", true);
  console.log("âœ… GPS object placed at target coordinates");
});

/* ãƒ‡ãƒãƒƒã‚°ï¼šç¾åœ¨åœ° */
window.addEventListener("gps-camera-update-position", e => {
  console.log("ğŸ“ Camera GPS:", e.detail.position);
});
</script>

</body>
</html>
