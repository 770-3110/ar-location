<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>AR Location - Real GPS</title>

  <!-- A-Frame と AR.js の読み込み -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/ngokevin/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
</head>

<body style="margin: 0; overflow: hidden; background: transparent;">

  <a-scene
    vr-mode-ui="enabled: false"
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;"
    renderer="alpha: true"
  >

    <a-assets>
      <a-asset-item id="model" src="img/more.glb"></a-asset-item>
    </a-assets>

    <!-- 3Dモデルの表示 -->
    <a-entity
      gps-entity-place="latitude: 33.548324; longitude: 133.681047;"
      gltf-model="#model"
      scale="1 1 1"
    ></a-entity>

    <!-- 透過PNG画像の表示 -->
    <a-image
      src="img/text_transparent.png"
      gps-entity-place="latitude: 33.548324; longitude: 133.681047;"
      position="0 2 0"
      width="5"
      height="2"
      look-at="[camera]"
      material="transparent: true; alphaTest: 0.1;"
    ></a-image>

    <!-- カメラ -->
    <a-camera id="camera" gps-camera rotation-reader></a-camera>

  </a-scene>

  <!-- デバッグログ：現在地が取得されるたびに表示 -->
  <script>
    window.addEventListener('gps-camera-update-position', e => {
      console.log('現在地が更新されました:', e.detail.position);
    });

    window.addEventListener('gps-entity-place-added', e => {
      console.log('オブジェクトが配置されました:', e.detail);
    });
  </script>

</body>
</html>
